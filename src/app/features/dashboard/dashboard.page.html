<div class="dashboard">
  <div class="dashboard-header">
    <h1>Hi {{ currentUser }}, welcome! You have {{ openTasks }} open tasks.</h1>
  </div>

  <div class="dashboard-content">
    <!-- Work Queue Section -->
    <div class="section work-queue">
      <div class="section-header">
        <h2>Work Queue</h2>
        <div class="tabs">
          <button
            *ngFor="let tab of workQueueTabs"
            class="tab"
            [class.active]="tab.active"
          >
            {{ tab.name }}
          </button>
        </div>
      </div>

      <div class="work-queue-table">
        <div class="table-header">
          <div class="header-cell">ASSIGNEE</div>
          <div class="header-cell">TYPE</div>
          <div class="header-cell">STATUS</div>
          <div class="header-cell">CREATED</div>
          <div class="header-cell"></div>
        </div>

        <div class="table-row" *ngFor="let item of workQueueItems">
          <div class="cell assignee">
            <div class="assignee-info">
              <span
                class="assignee-avatar"
                [class]="'priority-' + item.priority"
                >{{ item.type }}</span
              >
              <div class="assignee-details">
                <div class="assignee-name">{{ item.name }}</div>
                <div class="assignee-company">{{ item.company }}</div>
              </div>
            </div>
          </div>
          <div class="cell">{{ item.category }}</div>
          <div class="cell">
            <span
              class="status-badge"
              [class]="'status-' + item.status.toLowerCase().replace(' ', '-')"
            >
              ● {{ item.status }}
            </span>
          </div>
          <div class="cell">{{ item.created }}</div>
          <div class="cell">
            <button class="action-btn">ℹ️</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Column -->
    <div class="right-column">
      <!-- Portfolio Goals -->
      <div class="section portfolio-goals">
        <div class="section-header">
          <h2>Portfolio goals</h2>
        </div>
        <div class="goals-content">
          <div class="goal-item">
            <div class="goal-header">
              <span>NEW BUSINESS TARGET</span>
              <span class="goal-amount">$37M</span>
            </div>
            <div class="progress-bar">
              <div
                class="progress-fill"
                [style.width.%]="portfolioGoals.newBusiness.current"
                [style.background-color]="portfolioGoals.newBusiness.color"
              ></div>
            </div>
          </div>

          <div class="goal-item">
            <div class="goal-header">
              <span>RENEWAL TARGET</span>
              <span class="goal-amount">$67M</span>
            </div>
            <div class="progress-bar">
              <div
                class="progress-fill"
                [style.width.%]="portfolioGoals.renewals.current"
                [style.background-color]="portfolioGoals.renewals.color"
              ></div>
            </div>
          </div>

          <div class="goal-item">
            <div class="goal-header">
              <span>CROSS-SELL TARGET</span>
              <span class="goal-amount">$34M</span>
            </div>
            <div class="progress-bar">
              <div
                class="progress-fill"
                [style.width.%]="portfolioGoals.crossSell.current"
                [style.background-color]="portfolioGoals.crossSell.color"
              ></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="section quick-actions">
        <div class="section-header">
          <h2>Quick actions</h2>
        </div>
        <div class="actions-grid">
          <button class="action-btn-large" *ngFor="let action of quickActions">
            {{ action }}
          </button>
        </div>
      </div>

      <!-- Market Intelligence -->
      <div class="section market-intelligence">
        <div class="section-header">
          <h2>Market intelligence</h2>
        </div>
        <div class="intelligence-list">
          <div
            class="intelligence-item"
            *ngFor="let item of marketIntelligence"
          >
            <div class="intelligence-content">
              <div class="intelligence-title">{{ item.title }}</div>
              <div class="intelligence-time">{{ item.time }}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- My Accounts Section -->
  <div class="section my-accounts">
    <div class="section-header">
      <h2>My accounts</h2>
      <div class="account-filters">
        <button class="filter-btn">Filter</button>
        <button class="filter-btn">Sort</button>
        <button class="filter-btn">Export</button>
        <button class="filter-btn active">All Items</button>
      </div>
    </div>

    <div class="accounts-table">
      <div class="table-header">
        <div class="header-cell">ACCOUNT NAME</div>
        <div class="header-cell">LINE</div>
        <div class="header-cell">UNDERWRITER</div>
        <div class="header-cell">LISTENING</div>
        <div class="header-cell">APPETITE</div>
        <div class="header-cell">STAGE</div>
        <div class="header-cell">TRIAGE</div>
        <div class="header-cell">VULNERABILITY</div>
        <div class="header-cell"></div>
      </div>

      <div
        class="table-row"
        *ngFor="let account of myAccounts"
        (click)="navigateToAccount(account)"
      >
        <div class="cell account-name">
          <span class="account-avatar">{{ account.type }}</span>
          <div class="account-details">
            <div class="account-title">{{ account.name }}</div>
            <div class="account-renewal">Renewal: {{ account.renewal }}</div>
          </div>
        </div>
        <div class="cell">{{ account.line }}</div>
        <div class="cell">{{ account.underwriter }}</div>
        <div class="cell">{{ account.premium }}</div>
        <div class="cell">{{ account.commission }}</div>
        <div class="cell">
          <span
            class="priority-badge"
            [class]="'priority-' + account.priority.toLowerCase()"
          >
            {{ account.priority }}
          </span>
        </div>
        <div class="cell">
          <span
            class="status-badge"
            [class]="'status-' + account.status.toLowerCase().replace(' ', '-')"
          >
            ● {{ account.status }}
          </span>
        </div>
        <div class="cell">
          <div class="vulnerability-indicator">
            <div class="vulnerability-bars">
              <div
                class="bar"
                [class.active]="account.vulnerability === 'High'"
              ></div>
              <div
                class="bar"
                [class.active]="
                  account.vulnerability === 'Medium' ||
                  account.vulnerability === 'High'
                "
              ></div>
              <div
                class="bar"
                [class.active]="
                  account.vulnerability === 'Low' ||
                  account.vulnerability === 'Medium' ||
                  account.vulnerability === 'High'
                "
              ></div>
              <div
                class="bar"
                [class.active]="
                  account.vulnerability === 'Low' ||
                  account.vulnerability === 'Medium' ||
                  account.vulnerability === 'High'
                "
              ></div>
              <div
                class="bar"
                [class.active]="
                  account.vulnerability === 'Low' ||
                  account.vulnerability === 'Medium' ||
                  account.vulnerability === 'High'
                "
              ></div>
            </div>
            <span class="vulnerability-text">{{ account.vulnerability }}</span>
          </div>
        </div>
        <div class="cell">
          <button class="action-btn">ℹ️</button>
        </div>
      </div>
    </div>
  </div>
</div>
